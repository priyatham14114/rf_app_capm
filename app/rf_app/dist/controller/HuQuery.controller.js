sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/Device","sap/m/MessageToast","sap/ui/core/UIComponent"],function(e,t,s,i){"use strict";return e.extend("com.app.rfapp.controller.HuQuery",{onInit:function(){const e=this.getOwnerComponent().getRouter();e.attachRoutePatternMatched(this.onResourceDetailsLoad,this);var s=this.byId("_IDGenText5");var i=new sap.ui.model.json.JSONModel(sap.ui.require.toUrl("com/app/rfapp/model/data1.json"));this.getView().setModel(i);var n=this.getOwnerComponent().getModel("i18n");var u=this.byId("_IDGenText3");var o=this.byId("_IDGenInput1");if(t.system.phone){u.setText(n.getResourceBundle().getText("qty"));s.setText(n.getResourceBundle().getText("pr.des"))}else{u.setText(n.getResourceBundle().getText("quantity"));s.setText(n.getResourceBundle().getText("productdescription"))}this._setFocus()},onResourceDetailsLoad:function(e){var t=this;const{id:s}=e.getParameter("arguments");this.ID=s;console.log(this.ID)},_setFocus:function(){var e=this.byId("_IDGenInput1");if(e){e.focus()}},onBeforeRendering:function(){this.getView().byId("_IDGenButton1133").setVisible(true)},onItemSelect:function(e){var t=e.getParameter("item");this.byId("pageContainer").to(this.getView().createId(t.getKey()))},onScanSuccess:function(e){debugger;var t=e.getParameter("text");var s=this;if(e.getParameter("cancelled")){sap.m.MessageToast.show("Scan cancelled",{duration:1e3})}else if(t){var i=this.byId("_IDGenInput1");i.setValue(t);sap.m.MessageToast.show("Scanned successfully: "+t);s.onLiveHuProcess(t)}else{this.byId("_IDGenInput1").setValue("");sap.m.MessageToast.show("No barcode text found",{duration:1e3})}},onLiveHuValidation:function(e){debugger;var t=e.getSource();var s=t.getValue().trim();if(s){var i=this.getOwnerComponent().getModel();var n=this;i.read(`/Hu_ContentSet('${s}')`,{success:function(e){n.getView().byId("icon2").setVisible(true);n.getView().byId("icon1").setVisible(false);n.getView().byId("_IDGenButton1111").setVisible(true);n.getView().byId("_IDGenButton1122").setVisible(false);n.getView().byId("_IDGenButton1133").setVisible(false);n._populateHUDetails(e)},error:function(e){}})}else{this.getView().byId("icon2").setVisible(false);this.getView().byId("icon1").setVisible(true)}},_populateHUDetails:function(e){this.byId("_IDGenInput2").setValue(e.Huident);this.byId("_IDGenInput3").setValue(e.Letyp);this.byId("_IDGenInputLength").setValue(e.Length);this.byId("_IDGenInputWidth").setValue(e.Width);this.byId("_IDGenInputHeight").setValue(e.Height);this.byId("_IDGenInputTareWeight").setValue(e.TWeight);this.byId("_IDGenInputNetWeight").setValue(e.NWeight);this.byId("_IDGenInputGrossWeight").setValue(e.GWeight);this.byId("_IDGenInputweightsMesurement").setValue(e.UnitGw);this.byId("_IDGenInputMesurement").setValue(e.UnitLwh);this.byId("_IDGenInputMesurement").setValue(e.GVolume)},onLiveHuProcess:function(e){var t=parseInt(e);var s=t;if(s){var i=this.getOwnerComponent().getModel();var n=this;i.read(`/Hu_ContentSet('${s}')`,{success:function(e){n.getView().byId("icon2").setVisible(true);n.getView().byId("icon1").setVisible(false);n._populateHUDetails(e);n.getView().byId("_IDGenButton1111").setVisible(true);n.getView().byId("_IDGenButton1122").setVisible(false);n.getView().byId("_IDGenButton1133").setVisible(false)},error:function(e){}})}else{this.getView().byId("icon2").setVisible(false);this.getView().byId("icon1").setVisible(true)}},_populateHUDetails:function(e){this.byId("_IDGenInput2").setValue(e.Huident);this.byId("_IDGenInput3").setValue(e.Letyp);this.byId("_IDGenInputLength").setValue(e.Length);this.byId("_IDGenInputWidth").setValue(e.Width);this.byId("_IDGenInputHeight").setValue(e.Height);this.byId("_IDGenInputTareWeight").setValue(e.TWeight);this.byId("_IDGenInputNetWeight").setValue(e.NWeight);this.byId("_IDGenInputGrossWeight").setValue(e.GWeight);this.byId("_IDGenInputweightsMesurement").setValue(e.UnitGw);this.byId("_IDGenInputMesurement").setValue(e.UnitLwh);this.byId("_IDGenInputMesurement").setValue(e.GVolume)},Onpressback3:async function(){var e=i.getRouterFor(this);var t=this.getOwnerComponent().getModel();await t.read("/RESOURCESSet('"+this.ID+"')",{success:function(t){let s=t.Users.toLowerCase();if(s==="resource"){e.navTo("RouteResourcePage",{id:this.ID})}else{e.navTo("Supervisor",{id:this.ID})}}.bind(this),error:function(){MessageToast.show("User does not exist")}})},onHUContentPress:function(){this.getView().byId("icon1").setVisible(false);this.getView().byId("icon2").setVisible(false);this.getView().byId("icon3").setVisible(true);this.getView().byId("icon4").setVisible(false);this.getView().byId("_IDGenButton1111").setVisible(false);this.getView().byId("_IDGenButton1122").setVisible(true);this.getView().byId("_IDGenButton1133").setVisible(false)},onHUHierarchyPress:function(){this.getView().byId("icon1").setVisible(false);this.getView().byId("icon2").setVisible(false);this.getView().byId("icon3").setVisible(false);this.getView().byId("icon4").setVisible(true);this.getView().byId("_IDGenButton1111").setVisible(false);this.getView().byId("_IDGenButton1122").setVisible(true);this.getView().byId("_IDGenButton1133").setVisible(false)},Onpressback1:function(){debugger;this.getView().byId("icon1").setVisible(false);this.getView().byId("icon2").setVisible(true);this.getView().byId("icon3").setVisible(false);this.getView().byId("icon4").setVisible(false);this.getView().byId("_IDGenButton1111").setVisible(true);this.getView().byId("_IDGenButton1122").setVisible(false);this.byId("_IDGenInput1").setValue("")},Onpressback2:function(){this.getView().byId("icon1").setVisible(true);this.getView().byId("icon2").setVisible(false);this.getView().byId("icon3").setVisible(false);this.getView().byId("icon4").setVisible(false);this.byId("_IDGenInput1").setValue("");this.getView().byId("_IDGenButton1133").setVisible(true);this.getView().byId("_IDGenButton1111").setVisible(false)},Submit:function(){},onAfterRendering:function(){var e=this.byId("_IDGenInput1");if(e){setTimeout(function(){e.focus()},100)}}})});
//# sourceMappingURL=HuQuery.controller.js.map